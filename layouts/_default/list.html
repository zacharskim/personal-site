{{ define "main" }} {{ $categoryTitle := .Title }} {{ $categoryDescription := ' ' }}
{{ if (eq .Data.Term "Low-tech Solutions") }} {{ $categoryTitle = "Low-tech Solutions" }}
{{ $categoryDescription = "Interesting possibilities arise when you combine old technology with new knowledge and new materials, or when you apply old concepts and traditional knowledge to modern technology." }}
{{ else if (eq .Data.Term "High-tech Problems")}} {{ $categoryTitle = "High-tech Problems" }} {{ $categoryDescription = "Technology has become the idol of our society, but technological progress is—more often than not—aimed at solving problems caused by earlier technical inventions." }}
{{ else if (eq .Data.Term "Obsolete Technology")}} {{ $categoryTitle = "Obsolete Technology" }} {{ $categoryDescription = "There is a lot of potential in past and often forgotten knowledge and technologies when it comes to designing a sustainable society." }}
{{ else if (eq .Data.Term "About")}} {{ $categoryTitle = "About" }} {{ $categoryDescription = "" }}{{ end }}
<main class="article-list">
    <header>
        {{ if (eq .Data.Singular "author")}} Written by {{ else if (eq .Data.Singular "tag")}} Theme {{ end }}
        <h1 class="entry-title">{{ $categoryTitle | default .Title }}</h1>
        {{ if not (eq $categoryDescription ' ') }}
        <p class="summary">{{$categoryDescription}}
        </p>
        {{ end }}
    </header>
    <section id="list" class="grid">
        {{ $allposts := .Pages }}
        {{ $notunlisted := where .RegularPages ".Params.unlisted" "!=" "true" }} 
        {{ $posts := $allposts | intersect $notunlisted }}
        {{ $paginator := .Paginate $posts }}
        {{ range $paginator.Pages }} {{ partial "article-list/default" . }} {{ end }}
    </section>
    {{ if gt $paginator.TotalPages 1}} {{ partial "pagination" . }} {{ end }}
</main>
{{ end }}